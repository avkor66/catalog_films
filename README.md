# CatalogFilms

Данный проект был создан с использованием [Angular CLI](https://github.com/angular/angular-cli) версси 20.3.1.

Проект выполнен в рамках тестового задания на вакансию Angular-разработчик

## Development server

Для запуска сервера в режиме локальной разработки, выполните:

```bash
  ng serve
```

После запуска сервера откройте браузер и перейдите по адресу http://localhost:4200/

Для проверки работы необходимо запустить локальный сервер базы данных, выполните:

```bash
  json-server --watch db.json --port 3000
```

После запуска сервера базы данных его работу можно проверить перейдя адресу http://localhost:3000/


Вопросы:

1 Как вы можете описать процесс распространения событий в
JavaScript (Event Propagation)? Расскажите о его основных фазах.
Какие есть способы применения знаний о фазах
рааспространения событий на практике?

2 Расскажите, что такое Promise в JavaScript, как он работает, какие
основные состояния у него бывают? Каким еще способомможно
обработать асинхронный код? Какую роль в асинхронности играет
событийный цикл (Event Loop)?

3 Что такое ООП, и какие его ключевые принципы вы могли бы
описать? При объяснении приводите примеры. Максимально
подробно расскажите о том, как ООП реализовано в JavaScript.

4 Опишите максимально детально, как браузер обрабатывает URL,
начиная с момента его ввода в адресную строку и заканчивая
отображением страницы. Какие технологии позволяют ускорить
процесс? Какие проблемы (безопастность, междоменное
взаимодействие) могут возникать в процессе?

Ответы на вопросы: 
1 Событие распространяется по иерархии DOM сверху вниз, 
до элемента, на котором вызвано событие, затем распространяется 
по самому элементу, после чего возвращается снизу вверх. Выделяется три
фазы: фаза захвата (движение сверху вниз), фаза достижения цели (элемента,
на котором осуществлен вызов), фаза всплытия (движение события снизу вверх).
Существует два метода Event, это stopPropagation() и stopImmediatePropagation().
Отличаются тем, что первый перехватывает и останавливает текущее событие 
во время движения вниз или вверх, при этом 
стандартные события продолжают выполняться (навигация по ссылкам), 
кроме этого не останавливает другие обработчики событий. 
Во втором случае событие не распространятся и на другие элементы.
На практике применяется во время навешивания слушателя на общий элемент, 
и при клике на дочерний, элемент, мы останавливаем распространение, 
обрабатываем клик по элементу, то есть в этом случае не нужно навешивать 
на каждый дочерний элемент слушатель.

2 Promise - это обещание, оно не известно в момент создания. Создается 
текущее обещание, после чего процесс ожидания его выполнения, когда оно
выполнено, происходит обработка конечного значения. Обещание возвращает 
значение асинхронным методам, таким как запрос на сервер. Выделяется 
три состояния: в ожидании (при создании экземпляра), выполнен (когда 
значение возвращено), отклонено (ответ с ошибкой). При возникновении 
состояния выполнено или отклонено срабатывают обработчики, которые 
ставятся в очередь методом then. Асинхронный код можно обработать 
колбэками, когда функция передается в качестве аргумента другой 
асинхронной функции и вызывается по завершении первой. Еще пример
использования конструкции async/await, которая понятная, в этом
случаее await может быть вызван только внутри async функции.
Событийный цикл Event Loop играет важную роль, он обеспечивает 
неблокирующий ввод и вывод в одном потоке, контролирует стек 
вызовов и очередей. Если в стеке нет задачи, они берутся из очереди.
Очереди также подразделяются на две микро- и макрозадачи. 
Сначала проверяется очередь микрозадач, так как у них приоритет 
выше, куда попадают асинхронные функции типа промисов, 
затем очередь макрозадач, где находятся выполненные, например
SetTimeout.

3 ООП - объектно ориентированное программирование, это парадигма, 
в основе которой лежат объекты. ООП позволяет создавать модульный,
повторно используемы, поддерживаемый код, который легко читается. 
ООП основано на 4 фундаментальных принципах: инкапсуляция, абстракция, 
наследование и полиморфизм. Инкапсуляция - связывание данных и методов 
в единый объект, включая механизмы сокрытия методов снаружи для защиты
от внешнего воздействия, обеспечивая безопасность. Например, у жилого 
дома есть свойство температура воды в отоплении и методы увеличить или 
уменьшить температуру - мы не можем изменить температуру напрямую, 
только через методы.  Абстракция - сокрытие сложной реализации, 
которая реализована внутри, показывая только существенные, 
необходимые детали (методы) объекта. Например, процесс увеличения 
температуры жилого дома для нас сокрыт, нам не нужно знать, как она 
увеличивается и в каких диапазонах, мы можем только посмотреть текущее
состояние и увеличить или уменьшить ее. Наследование - использование 
принципа переиспользования повторяющегося кода, который не копируется 
в каждый объект, а реализуется в основном объекте. От основного 
наследуются новые объекты которые используют только необходимые 
ему методы и добавляет свои. Например, есть объект животное, у него есть 
свойства: голова, туловище, хвост, лапы и методы: подавать голос. 
Мы можем создать объект кошка наследуясь от объекта животное, и добавить 
дополнительные свойства и методы, характерные только для кошки. 
Таким же образом можем создать любое другое животное - собаку, например.
Полиморфизм - способность объектов разных классов воздействовать 
на данные по-разному. Может быть достигнуто путем вызова метода 
с разными параметрами. Например, тот же объект животное, может 
подавать голос, но экземпляр класса кошка будет мяукать, а собаки -
лаять.
В JS ООП реализовано через прототипы, то есть объект наследуется от
другого объекта. Каждый объект JS имеет внутреннюю ссылку на свой 
прототип, другой объект через свойство __proto__ или 
Object.getPrototypeOf(). Когда пытаемся получить доступ к свойству 
или методу объекта, которого у объекта нет, JS пытается подняться 
по цепочке прототипов до данного метода или пока не достигнет null.

4 После ввода в адресной строке url и переходе по нему, браузер парсит 
строку, выделяет протокол, хост, порт, путь, параметры, после чего
проверяет свой кэш, и если в нем находит информацию, то пропускает
сетевой запрос, а данные отображает из кэша. 
Если кэша нет, то браузеру нужен ip-адрес, он его ищет в DNS 
браузера, компьютера, маршрутизатора, если нет, то делает запрос к 
DNS серверу спускаясь по иерархии DNS серверов (провайдер, узел, 
город, страна и т.д.). 
Получив ip-адрес производит TCP соединение с сервером на указанном порту
HTTP (80) или HTTPS (443). Если 443 порт, то проверяет сертификат SSL.
Установив соединение с сервером браузер отправляет HTTP запрос, 
сервер его обрабатывает, готовит ответ и возвращает ответ браузеру 
с кодом 200, либо другими кодами. В ответе имеется заголовок и тело
ответа, которое, как правило, содержит HTML.
Получив HTML, браузер начинает его отрисовку - построение DOM элемента,
затем парсит CSS и строит CSS object model. Затем происходит объединение 
данных моделей, содержащих видимые узлы. Далее браузер рассчитывает 
координаты и размеры элементов, преобразует элементы в пиксели и 
накладывает слои друг на друга, создавая финальное изображение, 
которое видит пользователь.
Ускорение может быть сетевое, использование нескольких запросов 
разом, кэширование контента, кэширование ip-адресов в браузере, 
использование атрибутов async и defer в теге script, для того,
чтобы происходила параллельная загрузка скрипта и не блокировала 
построения моделей, предварительная загрузка контента для будущих
страниц, которые может открыть пользователь. 
CORS - межбраузерные запросы - сервер указывает 
каким доменам разрешен запрос к его ресурсам.
CSRF - когда заставляет аутентифицированного пользователя выполнить 
нежелательное действие (проверка заголовка origin, referer)
Куки - могут быть украдены злоумышленником (установить флаг HTTP only).
XSS - внедление вредоносного кода в страницу (Content Security Policy - 
разрешение на загрузку скриптов конкретным источникам)


